<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simple Node App</title>
<link rel="stylesheet" href="styles.css">
<script src="https://cdn.tiny.cloud/1/f5333sdbf4ft4iew6iu7z6f7kvbca4916j1itrfj59hpmsdg/tinymce/6/tinymce.min.js" referrerpolicy="origin"></script>
<script src="https://cdn.jsdelivr.net/npm/onnxruntime-web/dist/ort.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@ricky0123/vad-web@0.0.7/dist/bundle.min.js"></script>
<script>
    tinymce.init({
        selector: '#mytextarea'
    });
    
</script>
</head>
<body>
    <header>
        <h1>TinyMCE Quick Start Guide</h1>
        <form method="post" id="myform">
          <textarea id="mytextarea">Hello, World!</textarea>
        </form>
        <pre id="output-content" class="contentDumpBox">  
        </pre>
    </header>
    <script src="scripts.js"></script>
    <script>        
        async function createVoiceDetector() {
            const myvad = await vad.MicVAD.new({
              onSpeechStart: () => {
                console.log("Speech start detected")
              },
              onSpeechEnd: (audio) => {                
                const blob = new Blob([audio.buffer], { type: 'application/octet-stream' });
                sendAudioPromptToServer(blob);
              },
              preSpeechPadFrames: 15,
              redemptionFrames: 15
            })
            myvad.start()
          }
        createVoiceDetector();
    </script>
</body>
</html>
